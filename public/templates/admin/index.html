
<div class="container">
  <div class="row">
    <div class="col s12">
      <div class="valign-wrapper">
        <h1 class="valign">Admin Console</h1>
        <hr>
      </div>
      <h4>Upload a new trail</h4>
      <hr>
      <form ng-submit="adminCtrl.create()">
          <div class="col m6 file-field input-field">
            <input type="text" placeholder="Enter trail name" ng-model="adminCtrl.trail.trailName">
            <input type="text" placeholder="Enter trail-head address" ng-model="adminCtrl.trail.address">
            <input type="text" placeholder="Trail length" ng-model="adminCtrl.trail.trailLength">
            <input type="text" placeholder="Trail surface" ng-model="adminCtrl.trail.trailSurface">
          </div>
          <div class="col m6 file-field input-field">
            <input type="text" placeholder="Dogs friendly" ng-model="adminCtrl.trail.dogFriendly">
            <input type="text" placeholder="Difficulty" ng-model="adminCtrl.trail.difficulty">
            <textarea type="textarea" placeholder="Trail Description" ng-model="adminCtrl.trail.description" class="materialize-textarea"></textarea>
            <div class="file-field input-field">
              <input
                    uploadcare-widget
                    ng-model="adminCtrl.trail.image"
                    data-public-key="34e7159f3dca4612894b"
                    data-tabs="file facebook instagram flickr"
                    data-images-only="true"
                    data-preview-step="true"
                    data-clearable="true"
                    data-multiple="false"
                    data-crop=""
                    on-upload-complete="onUCUploadComplete(info)"
                    on-widget-ready="onUCWidgetReady(widget)"
                    />
                    <br>
                    <br>
              <input type="submit" value="Create Trail" class="btn waves-effect waves-light right-align">
            </div>
            <br>
          </div>
        </div>
      </form>
    </div>


    <!-- SEARCH AND EDIT TRAILS IN ADMIN -->
    <div class="col s12 m6 l4">
      <input type="text" class="form-control" ng-model="searchText" placeholder="Search Trails">
         <div ng-repeat="trail in adminCtrl.trails | orderBy: 'trailName' | filter: searchText" class="row">
           <div class="row">
             <div class="card hoverable col s12">
                 <div class=" col s12 valign-wrapper">
                     <h5 class='valign'>{{trail.trailName}}</h5>
                 </div>
                 <div class=" col s12 m6 l4 card-image ">
                     <img id="admin-img" ng-src="{{trail.image}}" class="responsive-img"/>
                 </div>

                   <div class="col s12 m6 l4">
                     <ul class="list-group form-inline">
                       <li class="list-group-item">
                         <label class='inline-header'>Trail name: </label>
                         <span ng-hide="editing">{{trail.trailName}}</span>
                         <input ng-show="editing" ng-model="trail.trailName" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Address: </label>
                         <span ng-hide="editing">{{trail.address}}</span>
                         <input ng-show="editing" ng-model="trail.address" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Description: </label>
                         <span ng-hide="editing">{{trail.description}}</span>
                         <input ng-show="editing" ng-model="trail.description" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Dog friendly: </label>
                         <span ng-hide="editing">{{trail.dogFriendly}}</span>
                         <input ng-show="editing" ng-model="trail.dogFriendly" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Trail Length: </label>
                         <span ng-hide="editing">{{trail.trailLength}}</span>
                         <input ng-show="editing" ng-model="trail.trailLength" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Difficulty: </label>
                         <span ng-hide="editing">{{trail.difficulty}}</span>
                         <input ng-show="editing" ng-model="trail.difficulty" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Trail Surface: </label>
                         <span ng-hide="editing">{{trail.trailSurface}}</span>
                         <input ng-show="editing" ng-model="trail.trailSurface" type="text" class="form-control input-md">
                       </li>

                       <li class="list-group-item">
                         <label class='inline-header'>Trail Pending Approval: </label>
                         <span ng-hide="editing">{{trail.trailPending}}</span>
                         <input ng-show="editing" ng-model="trail.trailPending" type="text" class="form-control input-md">
                       </li>
                     </ul>
                   </div>

                 <div class='col s12 m6 l4'>
                     <button class='btn waves-effect waves-light' ng-click="adminCtrl.destroy(trail)">Delete Trail</button><br><br>
                     <button class='btn waves-effect waves-light' ng-hide="editing" ng-click="editing = true">Edit Trail</button><br>
                     <button class='btn waves-effect waves-light' ng-show="editing" ng-click="adminCtrl.update(trail); editing = false">Save Changes</button>
                     <br>
                     <br>
                 </div>
               </div>
             </div>
           </div>
    </div>
</div>
